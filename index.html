<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestão de Vendas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.0/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.29/jspdf.plugin.autotable.min.js"></script>
</head>
<body>
    <div class="container mt-4">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="vendas-tab" data-bs-toggle="tab" data-bs-target="#vendas" type="button" role="tab">Vendas</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="vendedores-tab" data-bs-toggle="tab" data-bs-target="#vendedores" type="button" role="tab">Vendedores</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="empresas-tab" data-bs-toggle="tab" data-bs-target="#empresas" type="button" role="tab">Empresas Parceiras</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="relatorios-tab" data-bs-toggle="tab" data-bs-target="#relatorios" type="button" role="tab">Relatórios</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="dashboard-tab" data-bs-toggle="tab" data-bs-target="#dashboard" type="button" role="tab">Dashboard</button>
            </li>
        </ul>

        <div class="tab-content" id="myTabContent">
            <!-- Aba de Vendas -->
            <div class="tab-pane fade show active" id="vendas" role="tabpanel">
                <div class="card mt-3">
                    <div class="card-header">
                        <h2 class="card-title">Cadastro de Vendas</h2>
                    </div>
                    <div class="card-body">
                        <form id="vendaForm">
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="vendedorVenda" class="form-label">Vendedor</label>
                                    <select class="form-select" id="vendedorVenda" required></select>
                                </div>
                                <div class="col-md-6">
                                    <label for="servicoVenda" class="form-label">Serviço</label>
                                    <select class="form-select" id="servicoVenda" required></select>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="nomeCliente" class="form-label">Nome do Cliente</label>
                                    <input type="text" class="form-control" id="nomeCliente" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="empresaParceira" class="form-label">Empresa Parceira</label>
                                    <select class="form-select" id="empresaParceira" required></select>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="valorVenda" class="form-label">Valor da Venda</label>
                                    <input type="number" class="form-control" id="valorVenda" step="0.01" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="dataVenda" class="form-label">Data da Venda</label>
                                    <input type="date" class="form-control" id="dataVenda" required>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">Cadastrar Venda</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Aba de Vendedores -->
            <div class="tab-pane fade" id="vendedores" role="tabpanel">
                <div class="card mt-3">
                    <div class="card-header">
                        <h2 class="card-title">Cadastro de Vendedores</h2>
                    </div>
                    <div class="card-body">
                        <form id="vendedorForm">
                            <div class="mb-3">
                                <label for="nomeVendedor" class="form-label">Nome</label>
                                <input type="text" class="form-control" id="nomeVendedor" required>
                            </div>
                            <div class="mb-3">
                                <label for="emailVendedor" class="form-label">Email</label>
                                <input type="email" class="form-control" id="emailVendedor" required>
                            </div>
                            <div class="mb-3">
                                <label for="telefoneVendedor" class="form-label">Telefone</label>
                                <input type="tel" class="form-control" id="telefoneVendedor" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Cadastrar Vendedor</button>
                        </form>
                        <div class="mt-4">
                            <h3>Vendedores Cadastrados</h3>
                            <ul class="list-group" id="vendedoresList"></ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Aba de Empresas Parceiras -->
            <div class="tab-pane fade" id="empresas" role="tabpanel">
                <div class="card mt-3">
                    <div class="card-header">
                        <h2 class="card-title">Cadastro de Empresas Parceiras</h2>
                    </div>
                    <div class="card-body">
                        <form id="empresaForm">
                            <div class="mb-3">
                                <label for="nomeEmpresa" class="form-label">Nome da Empresa</label>
                                <input type="text" class="form-control" id="nomeEmpresa" required>
                            </div>
                            <div class="mb-3">
                                <label for="categoriaEmpresa" class="form-label">Categoria</label>
                                <input type="text" class="form-control" id="categoriaEmpresa" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Cadastrar Empresa</button>
                        </form>
                        <div class="mt-4">
                            <h3>Empresas Cadastradas</h3>
                            <ul class="list-group" id="empresasList"></ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Aba de Relatórios -->
            <div class="tab-pane fade" id="relatorios" role="tabpanel">
                <div class="card mt-3">
                    <div class="card-header">
                        <h2 class="card-title">Relatório de Vendas</h2>
                        <button class="btn btn-secondary" onclick="exportarRelatorioExcel()">Exportar Excel</button>
                        <button class="btn btn-secondary" onclick="exportarRelatorioPDF()">Exportar PDF</button>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-3">
                                <label for="dataInicial" class="form-label">Data Inicial</label>
                                <input type="date" class="form-control" id="dataInicial">
                            </div>
                            <div class="col-md-3">
                                <label for="dataFinal" class="form-label">Data Final</label>
                                <input type="date" class="form-control" id="dataFinal">
                            </div>
                            <div class="col-md-3">
                                <label for="filtroVendedor" class="form-label">Vendedor</label>
                                <select class="form-control" id="filtroVendedor"></select>
                            </div>
                            <div class="col-md-3">
                                <label for="filtroColunas" class="form-label">Colunas</label>
                                <select class="form-control" id="filtroColunas" multiple>
                                    <option value="data" selected>Data da Venda</option>
                                    <option value="vendedor" selected>Nome do Vendedor</option>
                                    <option value="servico" selected>Serviço Vendido</option>
                                    <option value="tipoComissao">Tipo de Comissão</option>
                                    <option value="nomeCliente" selected>Nome do Cliente</option>
                                    <option value="empresaParceira" selected>Empresa Parceira</option>
                                    <option value="comissao" selected>Valor da Comissão</option>
                                    <option value="percentualComissao" selected>Variável da Comissão</option>
                                    <option value="valorBrutoReceber" selected>Valor Bruto a Receber</option>
                                </select>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="filtrarRelatorio()">Gerar</button>
                        <div class="table-responsive mt-3">
                            <table id="tabelaRelatorio" class="table">
                                <thead></thead>
                                <tbody></tbody>
                                <tfoot></tfoot>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Aba de Dashboard -->
            <div class="tab-pane fade" id="dashboard" role="tabpanel">
                <div class="card mt-3">
                    <div class="card-header">
                        <h2 class="card-title">Dashboard</h2>
                        <div class="row">
                            <div class="col-md-3">
                                <label for="mesFiltro" class="form-label">Mês</label>
                                <select class="form-control" id="mesFiltro" onchange="atualizarDashboard()">
                                    <option value="0">Janeiro</option>
                                    <option value="1">Fevereiro</option>
                                    <option value="2">Março</option>
                                    <option value="3">Abril</option>
                                    <option value="4">Maio</option>
                                    <option value="5">Junho</option>
                                    <option value="6">Julho</option>
                                    <option value="7">Agosto</option>
                                    <option value="8">Setembro</option>
                                    <option value="9">Outubro</option>
                                    <option value="10">Novembro</option>
                                    <option value="11">Dezembro</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="anoFiltro" class="form-label">Ano</label>
                                <select class="form-control" id="anoFiltro" onchange="atualizarDashboard()"></select>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Total de Vendas</h5>
                                        <p class="card-text" id="totalVendas">0</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Total de Comissões</h5>
                                        <p class="card-text" id="totalComissoes">R$ 0,00</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card">
                                    <div class="card-body">
                                        <h5 class="card-title">Comparação com Mês Anterior</h5>
                                        <p class="card-text" id="comparacaoMesAnterior">0%</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
